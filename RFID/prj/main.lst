C51 COMPILER V9.52.0.0   MAIN                                                              10/13/2016 08:54:38 PAGE 1   


C51 COMPILER V9.52.0.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\main.obj
COMPILER INVOKED BY: G:\Keil for C51\C51\BIN\C51.EXE ..\code\main.c LARGE BROWSE DEBUG OBJECTEXTEND PRINT(.\main.lst) TA
                    -BS(2) OBJECT(.\main.obj)

line level    source

   1          #include "reg52.h"
   2          #include "main.h"
   3          #include "uart.h"
   4          #include "timer.h"
   5          #include "rc522.h"
   6          #include "ctrl.h"
   7          #include "lcd12864.h"
   8          #include "beep.h"
   9          #include "key.h"  
  10          #include "EEPROM.h"
  11           
  12          void init_all(void) //初始化
  13          {
  14   1        EA = 0;       //关总中断     
  15   1        init_timer(); //定时器初始化
  16   1        init_uart();  //串口初始化
  17   1        init_rc522(); //RC522初始化 
  18   1        lcd_init();   //LCD初始化   
  19   1        EEPROM_READ(0,Card_SN_BUF,4);//EEPROM初始化,取出记录的卡号  
  20   1        EEPROM_READ(7,KEY_BUF,8);//EEPROM初始化,取出记录的密码 
  21   1        
  22   1        send_bytes(Card_SN_BUF,4);
  23   1        EA = 1;     //开总中断
  24   1      }
  25          
  26          void main(void)   //主函数
  27          { 
  28   1        INT8U key;
  29   1      
  30   1          Delay_ms(50); //让硬件稳定
  31   1        init_all();    //执行初始化函数
  32   1        relay_OFF();   //关继电器
  33   1        LED_BLINK_1(); //led test
  34   1        beep1();     //beep test  
  35   1          display(0,0,0);  //显示初始化
  36   1      
  37   1        while(1)
  38   1        {
  39   2           key=key_scan(); //按键操作
  40   2           if(key==12)  if(states>0) states--;
  41   2                        else states=0;  //上一功能
  42   2           
  43   2           if(key==13) if(++states>3) states=3; //下一功能
  44   2           ctrl_process(); //进入RC522操作
  45   2        }
  46   1      }   


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    137    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
C51 COMPILER V9.52.0.0   MAIN                                                              10/13/2016 08:54:38 PAGE 2   

   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
